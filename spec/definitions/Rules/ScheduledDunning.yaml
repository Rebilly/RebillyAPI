type: object
properties:
  attempts:
    type: array
    minItems: 1
    items:
      type: object
      properties:
        scheduleInstruction:
          $ref: "#/definitions/ScheduleInstruction"
        paymentInstruction:
          type: object
          properties:
            amountPolicy:
              type: string
              enum:
                - "partial-amount"
                - "rate-discount"
                # TODO: Unsupported at the moment
                # - "fixed-amount"
                # - "fixed-discount"
                # - "rate-penalty"
                # - "fixed-penalty"
            value:
              description: The payment amount, depends on policy, you should specify percent or number
              type: string
          required:
            - amountPolicy
            - value
      required:
        - scheduleInstruction
        - paymentInstruction
  successPolicy:
    description: The policy on the dunning end successfully
    type: string
    enum:
      - "continue-original-renewal"
      - "change-renewal-time"
  failurePolicy:
    description: The policy on the dunning end and all attempts failured
    type: string
    enum:
      - "cancel-subscription"
      - "abandon-invoice"
required:
  - attempts
  - successPolicy
  - failurePolicy
