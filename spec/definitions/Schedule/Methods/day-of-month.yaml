allOf:
  - $ref: "#/definitions/ScheduleInstruction"
  - type: object
    properties:
      day:
        type: integer
        minimum: 1
        maximum: 31
      conflictPolicy:
        description: |
          The strategy how to solve the lack of the numbers of days in a month.
          You able to choose to keep month and select the last day of it
          or transfer to first day in the next month.
          Defaults to transfer to next month.
        type: string
        default: "first-in-month"
        enum:
          - "first-in-month"
          - "last-in-month"
      time:
        type: string
        format: date-time
        pattern: "^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](Z(\\+|\\-)([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9])?$"
    required:
      - day
